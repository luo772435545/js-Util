<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
   <!-- <script src="./dist/util.js"></script>-->
    <style>
        *{margin: 0;padding: 0}
        #ccc{margin: 50px;padding-top: 30px;width: 50px;height:40px;border: 0;display: block;background-color: red}
    </style>
</head>
<body>
<div style="width: 1200px;height: 2600px;margin: 0 auto;border: 1px solid #ddd">
    <div style="width: 600px;height: 1200px;background-color: #e5e5e5;margin: 100px auto;">
        <div style="width: 100px;height: 100px;position: sticky;top: 10px;background-color: red"></div>
    </div>
</div>
<script src="./dist/util.js"></script>
<script>
let arr =[{a:'1',b:'2'},{a:'1',b:'4'},{a:'2'},{a:'4'},{a:'1'}];
let obj = {a:'1',b:'2',c:'3',d:'4'};
let obj1 = {a:'8',b:'9'};



function cocy(obj,cocyObj) {
    for(let key in obj){
        obj[key] = cocyObj[key]
    }
}


function repeatArrayObject (arr,key) {
    let obj ={};
    return  arr.reduce((i,n)=>{
        if(!obj[n[key]]){
            obj[n[key]]=true;
            i.push(n);
        }
        return i
    },[])
}
console.log(repeatArrayObject(arr,'a'))
</script>
<!--<script>

    var canvas = {},
        centerX = 0,
        centerY = 0,
        color = '',
        containers = document.getElementsByClassName('material-design')
    context = {},
        element = {},
        radius = 0,

        requestAnimFrame = function () {
            return (
                window.requestAnimationFrame       ||
                window.mozRequestAnimationFrame    ||
                window.oRequestAnimationFrame      ||
                window.msRequestAnimationFrame     ||
                function (callback) {
                    window.setTimeout(callback, 1000 / 60);
                }
            );
        } (),

        init = function () {
            containers = Array.prototype.slice.call(containers);
            for (var i = 0; i < containers.length; i += 1) {
                canvas = document.createElement('canvas');
                canvas.addEventListener('click', press, false);
                containers[i].appendChild(canvas);
                canvas.style.width ='100%';
                canvas.style.height='100%';
                canvas.width  = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
            }
        },

        press = function (event) {
            color = event.toElement.parentElement.dataset.color;
            element = event.toElement;
            context = element.getContext('2d');
            radius = 0;
            centerX = event.offsetX;
            centerY = event.offsetY;
            context.clearRect(0, 0, element.width, element.height);
            draw();
        },

        draw = function () {
            context.beginPath();
            context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
            context.fillStyle = color;
            context.fill();
            radius += 2;
            if (radius < element.width) {
                requestAnimFrame(draw);
            }
        };

    init();





    function scrollTop(el, from = 0, to, duration = 500) {
            if (!window.requestAnimationFrame) {
                window.requestAnimationFrame = (
                    window.webkitRequestAnimationFrame ||
                    window.mozRequestAnimationFrame ||
                    window.msRequestAnimationFrame ||
                    function (callback) {
                        return window.setTimeout(callback, 1000/60);
                    }
                );
            }
            const difference = Math.abs(from - to);
            const step = Math.ceil(difference / duration * 50);

            function scroll(start, end, step) {
                if (start === end) return;

                let d = (start + step > end) ? end : start + step;
                if (start > end) {
                    d = (start - step < end) ? end : start - step;
                }

                if (el === window) {
                    window.scrollTo(d, d);
                } else {
                    el.scrollTop = d;
                }
                window.requestAnimationFrame(() => scroll(d, end, step));
            }
           ;
            scroll(from, to, step);
        }
        var dom=document.querySelector('.ppp');
        console.log(dom);
        scrollTop(window,0,0)

       localStorage.setItem('timezoom','+4')
    var reg=/^((?=[A-Za-z0-9])[-A-Za-z0-9]*[A-Za-z0-9]){1,38}$/;
    var reg1=/(-)\1/;
    var str='111q&#45;&#45;wqwe';
   /* console.log(reg.test(str));
    console.log(reg1.test(str));*/
/*   console.log(new Date('2018-08-31 01:57:56'))
    function  getUniversalTime(date, type) { // UTC时间
        if (date === null) return
        let d = new Date(date)
        let year = d.getUTCFullYear()
        let month = d.getUTCMonth() + 1 < 10 ? '0' + (d.getUTCMonth() + 1) : d.getUTCMonth() + 1
        let day = d.getUTCDate() < 10 ? '0' + d.getUTCDate() : d.getUTCDate()
        let hours = d.getUTCHours() < 10 ? '0' + d.getUTCHours() : d.getUTCHours()
        let minutes = d.getUTCMinutes() < 10 ? '0' + d.getUTCMinutes() : d.getUTCMinutes()
        let seconds = d.getUTCSeconds() < 10 ? '0' + d.getUTCSeconds() : d.getUTCSeconds()
        if (type === 'fulltime') {
            return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds
        } else {
            return year + '-' + month + '-' + day
        }
    }*/
    console.log(getDataToLocalTime('2018-08-31 01:57:56','fulltime'))



    function getDataToLocalTime (date, type) { // 本地时间
        if (date === null) return null;
        let b = new Date(date).getTime() + localStorage.getItem('timezoom') * 60 * 60 * 1000;
        let d = new Date(b);
        let year = d.getFullYear();
        let month = d.getMonth() + 1 < 10 ? '0' + (d.getMonth() + 1) : d.getMonth() + 1;
        let day = d.getDate() < 10 ? '0' + d.getDate() : d.getDate();
        let hours = d.getHours() < 10 ? '0' + d.getHours() : d.getHours();
        let minutes = d.getMinutes() < 10 ? '0' + d.getMinutes() : d.getMinutes();
        let seconds = d.getSeconds() < 10 ? '0' + d.getSeconds() : d.getSeconds();
        if (type === 'fulltime') {
            return year + '-' + month + '-' + day + ' ' + hours + ':' + minutes + ':' + seconds;
        } else {
            return year + '-' + month + '-' + day;
        }
    }









   /* console.log(window)
    console.log(window.util)*/
 /* function toMoney (nub){
       return parseFloat(nub.toFixed(10));
   }
   console.log(toMoney(0.1+0.2));
   console.log(util.ut.toMoney(0.1+0.2))*/
/*
   var str='  asd a1  ';
   console.log(str);
   var teg=/^\s*|\s*$/g;
   console.log(teg)
   var reg=new RegExp("^\\s*|\\s*$")
   console.log(reg)
    console.log(str.replace(teg,''));
    console.log(str.replace(reg,''));

*/

/*
    var gg={a:'cc',d:'gcc',j:'asc'};
    var gt={a:'cc'};

    var EventTarget=function () {
        this._listeners={}
    }

    EventTarget.prototype = {
        constructor:this,
        // 添加
        addEvent(type, fn) {
            if (typeof this._listeners[type] === "undefined") {
                this._listeners[type] = [];
            }
            if (typeof fn === "function") {
                this._listeners[type].push(fn);
            }
            return this;
        },
        // 触发
        emitEvent(type) {
            var arrayEvent = this._listeners[type];
            console.log(arrayEvent)
            if (arrayEvent instanceof Array) {
                for (var i=0; i<arrayEvent.length; i++) {
                    if (typeof arrayEvent[i] === "function") {
                        arrayEvent[i]({ type: type });
                    }
                }
            }
            return this;
        },
        // 删除
        removeEvent(type, fn) {
            var arrayEvent = this._listeners[type];
            if (typeof type === "string" && arrayEvent instanceof Array) {
                if (typeof fn === "function") {
                    // 清除当前type类型事件下对应fn方法
                    for (var i=0; i<arrayEvent.length; i++){
                        if (arrayEvent[i] === fn){
                            this._listeners[type].splice(i, 1);
                            break;
                        }
                    }
                } else {
                    // 如果仅仅参数type, 或参数fn邪魔外道，则所有type类型事件清除
                    delete this._listeners[type];
                }
            }
            return this;
        }
    };*/

   /* console.log(util)
    util.addEvent('alert',function () {
        alert('弹出1')
    }).emitEvent("alert");*/

  /*  function getUrlParam(key) {
        var url = window.location.search;
        console.log(url)
        var reg = new RegExp("(^|&)" + key + "=(.*)?(&|$)");
        var result = url.substr(1).match(reg);//去除?号
        return result ? decodeURIComponent(result[2]) : null;
    }*/
   // console.log(getUrlParam('red'))

   /*  function addEvent(type, fn, capture) {
        var el = this.el;
        if (window.addEventListener) {
            el.addEventListener(type, fn, capture);
        } else if (window.attachEvent) {
            el.attachEvent("on" + type, fn);
        }
        return this;
    }*/

   /* function isReserved (str) {
        var c = (str + '').charCodeAt(0);
        return c === 0x24 || c === 0x5F
    }

    console.log(isReserved('$15454'));*/
   /* var bailRE = /[^\w.$]/;
    function parsePath (path) {
        if (bailRE.test(path)) {
            return
        }
        var segments = path.split('.');
        return function (obj) {
            for (var i = 0; i < segments.length; i++) {
                if (!obj) { return }
                obj = obj[segments[i]];
            }
            return obj
        }
    }
    console.log(parsePath('/a/ca?id=123'))*/
   /* var kjo=JSON.stringify(gg,null,2);
    console.log(JSON.parse(kjo))
     var arr=['cac','asc','asc','av'];
    console.log(arr)
    arr.splice(arr.indexOf('av'),1)
    console.log(arr)*/


   /* function once (fn) {
        var called = false;
        return function () {
            if (!called) {
                called = true;
                fn.apply(this, arguments);
            }
        }
    }

    once(function (c,d) {
      console.log(c,d);
    })('avvas','aaa')
    */

/*    console.log(Object.keys(gg));
    console.log(Object.keys(gt));*/
  //  console.log(util.looseEqual(gg,gt))
   /*function abc(a,b) {
       console.log(a);
       return {
           abc:function (c) {
               return abc(c,a)
           }
       }
   }
   var d=abc(0);
  var c=abc(0).abc;c.abc(3);

  console.log(c);*/
    //0 2 error
/*   var data=[
       {
           "id": 1,
           "parentId": 0,
           "accessName": "设备管理"
       },
       {
           "id": 2,
           "parentId": 0,
           "accessName": "商户管理"
       },
       {
           "id": 3,
           "parentId": 2,
           "accessName": "商户信息"
       },
       {
           "id": 4,
           "parentId": 2,
           "accessName": "商户资料"
       },
       {
           "id": 5,
           "parentId": 2,
           "accessName": "商户设备"
       }
   ];*/


   /*function MenuDate(data) {
       function search(data,p_id){
           var temp = [];
           for(var index in data){
               if (data[index].parentId == p_id) {
                   temp.push(data[index]);
               }
           }
           return temp;
       }
       function test(p_id){
           var arr = [];
           var searchResult = search(data,p_id);
           console.log(searchResult)
           for(var i in searchResult){
               arr.push({"accessName":searchResult[i].accessName,"children":test(searchResult[i].id)})
           }
           return arr;
       }
       return test(0)
   }*/
   // console.log(window.util.MenuDate(data));
  //  console.log(MenuDate(data));
   /* setTimeout(function () {
        console.log(window.util.z7z8.MenuDate(data));
    },2000)*/
</script>-->
</body>
</html>
